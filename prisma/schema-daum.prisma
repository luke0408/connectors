/// Search results about requested keyword in daum blog posts.
/// @namespace Daum
/// @author Leo
model daum_blog {
    //----
    // COLUMNS
    //----
    /// Primary Key.
    ///
    /// @format uuid
    id String @id @db.Uuid

    /// Essential keywords to get search results. The search results must contain this keyword.
    and_keyword String

    /// Keyword that are good to include when getting search results
    or_keyword String?

    /// Keyword that should not be included when getting search results
    not_keyword String?

    /// The date and time the record was created.
    created_at DateTime @db.Timestamptz

    //----
    // RELATIONS
    //----
    items daum_items[]

    @@index([and_keyword, created_at])
}

/// Search results about requested keyword in daum cafe posts.
/// @namespace Daum
/// @author Leo
model daum_cafe {
    //----
    // COLUMNS
    //----
    /// Primary Key.
    ///
    /// @format uuid
    id String @id @db.Uuid

    /// Essential keywords to get search results. The search results must contain this keyword.
    and_keyword String

    /// Keyword that are good to include when getting search results
    or_keyword String?

    /// Keyword that should not be included when getting search results
    not_keyword String?

    /// The date and time the record was created.
    created_at DateTime @db.Timestamptz

    //----
    // RELATIONS
    //----
    items daum_items[]

    @@index([and_keyword, created_at])   
}

/// Information about the search results of the requested keyword.
/// @namespace Daum
/// @author Leo
model daum_items {
    //----
    // COLUMNS
    //----
    /// Primary Key.
    ///
    /// @format uuid
    id String @id @db.Uuid

    /// Record Id of the Daum Blog.
    ///
    /// @format uuid
    daum_blog_id String? @db.Uuid

    /// Record Id of the Daum Cafe.
    ///
    /// @format uuid
    daum_cafe_id String? @db.Uuid

    /// Title of the post.
    post_title String

    /// Content of the post.
    post_content String

    /// URL of the post.
    ///
    /// @format iri
    post_url String @db.VarChar(80000)

    /// Thumbnail link of the post.
    ///
    /// @format iri
    post_thumbnail String @db.VarChar(80000)

    // Name of the blog or cafe.
    name String

    /// Date and time the post was published.
    date_time String

    /// The date and time the record was created.
    created_at DateTime @db.Timestamptz

    //----
    // RELATIONS
    //----
    daum_blog daum_blog? @relation(fields: [daum_blog_id], references: [id])
    daum_cafe daum_cafe? @relation(fields: [daum_cafe_id], references: [id])

    @@index([date_time])
}